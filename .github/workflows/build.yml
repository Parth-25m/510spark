name: Badges

on:
  push:
    branches:
      - main

jobs:
  update-badges:
    name: Update Badges
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
      - name: Download cloc
        run: sudo apt-get update -y && sudo apt-get install -y cloc
      - name: Get the Numbers
        run: |
          echo "CODE_LINES=$(   ./cloc.sh --loc)" >> $GITHUB_ENV
          echo "COMMENT_PERCENTAGE=$(./cloc.sh --percentage)" >> $GITHUB_ENV
#       - name: Create Lines-of-Code-Badge
#         uses: schneegans/dynamic-badges-action@v1.3.0
#         with:
#           auth: ${{ secrets.GIST_SECRET }}
#           gistID: <gist-ID>
#           filename: loc.json
#           label: Lines of Code
#           message: ${{ env.CODE_LINES }}
#           color: lightgrey
#       - name: Create Comments-Badge
#         uses: schneegans/dynamic-badges-action@v1.3.0
#         with:
#           auth: ${{ secrets.GIST_SECRET }}
#           gistID: <gist-ID>
#           filename: comments.json
#           label: Comments
#           message: ${{ env.COMMENT_PERCENTAGE }}%
#           valColorRange: ${{ env.COMMENT_PERCENTAGE }}
#           maxColorRange: 50
#           minColorRange: 0
